<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head th:replace="~{/layout/fragments :: htmlHead('Premuim Service')}"></head>
	
	<style>
		.top-banner {
			background: #f7f7f7;
		}
		.intro{
			display: flex;
			flex-direction: row;
			flex-wrap: wrap;
			justify-content: center;
			background: #f7f7f7;
			padding-left: 50px;
			margin-bottom: 50px;
		}
			
		.top-banner img{
			display: block;
			margin: 0 auto;
			height: 250px;
			
		}
		
		div.intro p {
			font-size: 13px;
		}
		
		.bold {
			font-weight: bold;
			color : #ff5722; /* 오렌쥐 */
		}
		
		div.premumContent{
			display: flex;
			flex-direction: row;
			flex-wrap: wrap;
			justify-content: space-evenly;
		}
		
		
		.novelList{
			display: flex;
			width: 100%;
			flex-direction: column;
			padding: 0 30px;
		}
		
		.my-novel{
		    background: beige;
		    display: flex; /* grid에서 flex로 변경 */
		    flex-direction: row; /* 가로 정렬 유지 */
		    align-items: center;
		    justify-content: space-evenly;
		    width: 100%; /* 한 줄에 하나씩 */
		    padding: 10px;
		}
		
		.novelContent {
			width: 800px;
		
		}
		img.coverImg{
			height:180px;
		}
		
		div.novelContent {
			margin-left: 50px;
		}
		
		div.indicator {
			height: 300px;
			display: flex;
			justify-content: space-around;
			align-items: center;
		}
		
		.step1, .step2, .step3{
			display: flex;
			flex-direction: column;
			background: #f5f5f5;
			width: 150px;
			height: 150px;
			border: 8px solid gray;
			border-radius : 20px;
			align-items: center;
		}
		
		.result {
			font-size: 60px;
			color: red;
			font-weight: bold;
		}
		
		.result-icon {
			border: 1px solid gray;
			border-radius : 5px;
			background: #f5f5f5;
			padding: 3px;
		}
		
		.btnIndicator {
			display: flex;
			
			align-items: center;
			justify-content: center;
		}
		a.btn-secondary , .btn-success{
			display: inline-block;
			width: auto;
			text-align: center;
			margin-left: 10px;
		}
		
	</style>
	<body>
		<th:block th:replace="~{/layout/fragments :: pageHeader}"></th:block>
		
		<main>
			<div class="top-banner">
				<img alt="banner" th:src="@{/images/premium.jpg}">
			</div>
			<div class="intro">
				<p>
				프리미엄 전환 신청을 해주셔서 감사합니다. 
				<br/>
				작가님께서는 신청하신 작품이 <span class="bold">총 10회 이상</span> 연재가 되었는지,
				 작품 좋아요가 <span class="bold">500이상</span> 되어 있는지 먼저 확인해주시길 바랍니다.
				</p>
			</div>
			
			<div class="premumContent">
				<div>
					<!-- 전환할 작품 하나를 가져옴 -->
					<div class="novel">
						<h5>프리미엄 전환 소설</h5>
						<div class="my-novel">
							<div class="novelCoverImg">
								<img class="coverImg" th:src="@{{novel.coverSrc}(novel.coverSrc=${novel.coverSrc})}">
							</div>
							<div class="novelContent">
								<a th:href="@{/novel/{id}(id=${novel.id})}">
									<b th:text="${novel.title}"></b>
								</a>
								<span th:text="${novel.writer}"></span>
								<br/>
								
								<span th:text="${novel.intro}"></span>
								
								
								<br/>
								<span>
									<i class="bi bi-heart-fill"></i>
									<span th:text="${novel.likeCount}"></span>
									<i class="bi bi-star-fill"></i>
									<span th:text="${#numbers.formatDecimal(novel.rating, 1, 1)} ?: '0.0'">0.0</span>
								</span>
								<br/>
								<!-- 장르 -->
								<span th:each="genre : ${novel.novelGenre}">
									<span th:text="|웹소설-${genre.genre.name}|"></span>
								</span>
							</div>
						</div>
					</div>
					
					<div class="indicator">
					<!-- 회차 수 -->
						<div class="step1">
							<div class="result" th:text="${count}"></div>
							<div class="result-icon">
								<label>
									<i class="bi bi-book-fill" style="color:green;"><span style="color: black;">연재회차 수</span></i>
								</label>
							</div>
						</div>
					<!-- 해당 작품의 좋아요 개수 -->
						<div class="step2">
							<div class="result" th:text="${novel.likeCount}"></div>
							<div class="result-icon">
								<i class="bi bi-heart-fill" style="color:red;"><span style="color: black;">좋아요 수</span></i>
							</div>
						</div>
					
					<!-- ?? -->
						<div class="step3">
							<div class="result" th:text="${novel.rating}"></div>
							<div class="result-icon">
								<i class="bi bi-star-fill" style="color: yellow;"><span style="color: black;">평점</span></i>
							</div>
						</div>
					
					</div>
					
					<div class="btnIndicator">
						<a class="btn btn-secondary" th:href="@{/novel/my-works(id=${#authentication.principal.id})}">돌아가기</a>
						<button class="btn btn-success" 
						id="btnPremiumSubmit" 
						th:data-novel-id="${novel.id}"
						th:data-novel-grade="${novel.grade}"
						data-status="1"
						type="submit" name="btnPremiumSubmit">신청하기</button>
					</div>
				</div>
			</div>
		</main>
		<th:block th:replace="~{/layout/fragments :: footer}"></th:block>
        <th:block th:replace="~{/layout/fragments :: bootstrapJS}"></th:block>
        <th:block th:replace="~{/layout/fragments :: axiosJS}"></th:block>
        <script th:src="@{/js/premium-apply.js}"></script>
	</body>
</html>
